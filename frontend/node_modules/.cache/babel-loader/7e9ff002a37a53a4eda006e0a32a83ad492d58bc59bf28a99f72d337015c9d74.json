{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akmor\\\\OneDrive\\\\website\\\\src\\\\components\\\\ScrollStack.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useLayoutEffect, useCallback } from 'react';\nimport './ScrollStack.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ScrollStackItem = ({\n  children,\n  itemClassName = ''\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: `scroll-stack-card ${itemClassName}`.trim(),\n  children: children\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 5,\n  columnNumber: 3\n}, this);\n_c = ScrollStackItem;\nconst ScrollStack = ({\n  children,\n  className = '',\n  itemDistance = 60,\n  itemScale = 0.03,\n  itemStackDistance = 24,\n  baseScale = 0.9\n}) => {\n  _s();\n  const scrollerRef = useRef(null);\n  const cardsRef = useRef([]);\n  const update = useCallback(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n    const scrollTop = scroller.scrollTop;\n    const vh = scroller.clientHeight || 1;\n    cardsRef.current.forEach((card, i) => {\n      if (!card) return;\n      const top = card.offsetTop;\n      const stackStart = top - vh * 0.2 - itemStackDistance * i;\n      const end = top - vh * 0.1;\n      const p = Math.min(1, Math.max(0, (scrollTop - stackStart) / Math.max(1, end - stackStart)));\n      const targetScale = baseScale + i * itemScale;\n      const scale = 1 - p * (1 - targetScale);\n      const translateY = Math.max(0, scrollTop - top + vh * 0.2 + itemStackDistance * i);\n      card.style.transform = `translate3d(0, ${translateY}px, 0) scale(${scale})`;\n    });\n  }, [itemScale, itemStackDistance, baseScale]);\n  useLayoutEffect(() => {\n    const scroller = scrollerRef.current;\n    if (!scroller) return;\n    const cards = Array.from(scroller.querySelectorAll('.scroll-stack-card'));\n    cardsRef.current = cards;\n    cards.forEach((card, i) => {\n      if (i < cards.length - 1) {\n        card.style.marginBottom = `${itemDistance}px`;\n      }\n      card.style.willChange = 'transform';\n    });\n    const onScroll = () => update();\n    scroller.addEventListener('scroll', onScroll, {\n      passive: true\n    });\n    update();\n    return () => scroller.removeEventListener('scroll', onScroll);\n  }, [itemDistance, update]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `scroll-stack-scroller ${className}`.trim(),\n    ref: scrollerRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scroll-stack-inner\",\n      children: [children, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scroll-stack-end\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(ScrollStack, \"iDdxYaw3IiJyzTGVuBGYPNvoFKU=\");\n_c2 = ScrollStack;\nexport default ScrollStack;\nvar _c, _c2;\n$RefreshReg$(_c, \"ScrollStackItem\");\n$RefreshReg$(_c2, \"ScrollStack\");","map":{"version":3,"names":["React","useRef","useLayoutEffect","useCallback","jsxDEV","_jsxDEV","ScrollStackItem","children","itemClassName","className","trim","fileName","_jsxFileName","lineNumber","columnNumber","_c","ScrollStack","itemDistance","itemScale","itemStackDistance","baseScale","_s","scrollerRef","cardsRef","update","scroller","current","scrollTop","vh","clientHeight","forEach","card","i","top","offsetTop","stackStart","end","p","Math","min","max","targetScale","scale","translateY","style","transform","cards","Array","from","querySelectorAll","length","marginBottom","willChange","onScroll","addEventListener","passive","removeEventListener","ref","_c2","$RefreshReg$"],"sources":["C:/Users/akmor/OneDrive/website/src/components/ScrollStack.js"],"sourcesContent":["import React, { useRef, useLayoutEffect, useCallback } from 'react';\r\nimport './ScrollStack.css';\r\n\r\nexport const ScrollStackItem = ({ children, itemClassName = '' }) => (\r\n  <div className={`scroll-stack-card ${itemClassName}`.trim()}>{children}</div>\r\n);\r\n\r\nconst ScrollStack = ({\r\n  children,\r\n  className = '',\r\n  itemDistance = 60,\r\n  itemScale = 0.03,\r\n  itemStackDistance = 24,\r\n  baseScale = 0.9,\r\n}) => {\r\n  const scrollerRef = useRef(null);\r\n  const cardsRef = useRef([]);\r\n\r\n  const update = useCallback(() => {\r\n    const scroller = scrollerRef.current;\r\n    if (!scroller) return;\r\n    const scrollTop = scroller.scrollTop;\r\n    const vh = scroller.clientHeight || 1;\r\n\r\n    cardsRef.current.forEach((card, i) => {\r\n      if (!card) return;\r\n      const top = card.offsetTop;\r\n      const stackStart = top - vh * 0.2 - itemStackDistance * i;\r\n      const end = top - vh * 0.1;\r\n      const p = Math.min(1, Math.max(0, (scrollTop - stackStart) / Math.max(1, end - stackStart)));\r\n      const targetScale = baseScale + i * itemScale;\r\n      const scale = 1 - p * (1 - targetScale);\r\n      const translateY = Math.max(0, scrollTop - top + vh * 0.2 + itemStackDistance * i);\r\n      card.style.transform = `translate3d(0, ${translateY}px, 0) scale(${scale})`;\r\n    });\r\n  }, [itemScale, itemStackDistance, baseScale]);\r\n\r\n  useLayoutEffect(() => {\r\n    const scroller = scrollerRef.current;\r\n    if (!scroller) return;\r\n    const cards = Array.from(scroller.querySelectorAll('.scroll-stack-card'));\r\n    cardsRef.current = cards;\r\n    cards.forEach((card, i) => {\r\n      if (i < cards.length - 1) {\r\n        card.style.marginBottom = `${itemDistance}px`;\r\n      }\r\n      card.style.willChange = 'transform';\r\n    });\r\n    const onScroll = () => update();\r\n    scroller.addEventListener('scroll', onScroll, { passive: true });\r\n    update();\r\n    return () => scroller.removeEventListener('scroll', onScroll);\r\n  }, [itemDistance, update]);\r\n\r\n  return (\r\n    <div className={`scroll-stack-scroller ${className}`.trim()} ref={scrollerRef}>\r\n      <div className=\"scroll-stack-inner\">\r\n        {children}\r\n        <div className=\"scroll-stack-end\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScrollStack;\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,eAAe,EAAEC,WAAW,QAAQ,OAAO;AACnE,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,OAAO,MAAMC,eAAe,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,aAAa,GAAG;AAAG,CAAC,kBAC9DH,OAAA;EAAKI,SAAS,EAAE,qBAAqBD,aAAa,EAAE,CAACE,IAAI,CAAC,CAAE;EAAAH,QAAA,EAAEA;AAAQ;EAAAI,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAAM,CAC7E;AAACC,EAAA,GAFWT,eAAe;AAI5B,MAAMU,WAAW,GAAGA,CAAC;EACnBT,QAAQ;EACRE,SAAS,GAAG,EAAE;EACdQ,YAAY,GAAG,EAAE;EACjBC,SAAS,GAAG,IAAI;EAChBC,iBAAiB,GAAG,EAAE;EACtBC,SAAS,GAAG;AACd,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,WAAW,GAAGrB,MAAM,CAAC,IAAI,CAAC;EAChC,MAAMsB,QAAQ,GAAGtB,MAAM,CAAC,EAAE,CAAC;EAE3B,MAAMuB,MAAM,GAAGrB,WAAW,CAAC,MAAM;IAC/B,MAAMsB,QAAQ,GAAGH,WAAW,CAACI,OAAO;IACpC,IAAI,CAACD,QAAQ,EAAE;IACf,MAAME,SAAS,GAAGF,QAAQ,CAACE,SAAS;IACpC,MAAMC,EAAE,GAAGH,QAAQ,CAACI,YAAY,IAAI,CAAC;IAErCN,QAAQ,CAACG,OAAO,CAACI,OAAO,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAK;MACpC,IAAI,CAACD,IAAI,EAAE;MACX,MAAME,GAAG,GAAGF,IAAI,CAACG,SAAS;MAC1B,MAAMC,UAAU,GAAGF,GAAG,GAAGL,EAAE,GAAG,GAAG,GAAGT,iBAAiB,GAAGa,CAAC;MACzD,MAAMI,GAAG,GAAGH,GAAG,GAAGL,EAAE,GAAG,GAAG;MAC1B,MAAMS,CAAC,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC,CAAC,EAAE,CAACb,SAAS,GAAGQ,UAAU,IAAIG,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEJ,GAAG,GAAGD,UAAU,CAAC,CAAC,CAAC;MAC5F,MAAMM,WAAW,GAAGrB,SAAS,GAAGY,CAAC,GAAGd,SAAS;MAC7C,MAAMwB,KAAK,GAAG,CAAC,GAAGL,CAAC,IAAI,CAAC,GAAGI,WAAW,CAAC;MACvC,MAAME,UAAU,GAAGL,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEb,SAAS,GAAGM,GAAG,GAAGL,EAAE,GAAG,GAAG,GAAGT,iBAAiB,GAAGa,CAAC,CAAC;MAClFD,IAAI,CAACa,KAAK,CAACC,SAAS,GAAG,kBAAkBF,UAAU,gBAAgBD,KAAK,GAAG;IAC7E,CAAC,CAAC;EACJ,CAAC,EAAE,CAACxB,SAAS,EAAEC,iBAAiB,EAAEC,SAAS,CAAC,CAAC;EAE7ClB,eAAe,CAAC,MAAM;IACpB,MAAMuB,QAAQ,GAAGH,WAAW,CAACI,OAAO;IACpC,IAAI,CAACD,QAAQ,EAAE;IACf,MAAMqB,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACvB,QAAQ,CAACwB,gBAAgB,CAAC,oBAAoB,CAAC,CAAC;IACzE1B,QAAQ,CAACG,OAAO,GAAGoB,KAAK;IACxBA,KAAK,CAAChB,OAAO,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAK;MACzB,IAAIA,CAAC,GAAGc,KAAK,CAACI,MAAM,GAAG,CAAC,EAAE;QACxBnB,IAAI,CAACa,KAAK,CAACO,YAAY,GAAG,GAAGlC,YAAY,IAAI;MAC/C;MACAc,IAAI,CAACa,KAAK,CAACQ,UAAU,GAAG,WAAW;IACrC,CAAC,CAAC;IACF,MAAMC,QAAQ,GAAGA,CAAA,KAAM7B,MAAM,CAAC,CAAC;IAC/BC,QAAQ,CAAC6B,gBAAgB,CAAC,QAAQ,EAAED,QAAQ,EAAE;MAAEE,OAAO,EAAE;IAAK,CAAC,CAAC;IAChE/B,MAAM,CAAC,CAAC;IACR,OAAO,MAAMC,QAAQ,CAAC+B,mBAAmB,CAAC,QAAQ,EAAEH,QAAQ,CAAC;EAC/D,CAAC,EAAE,CAACpC,YAAY,EAAEO,MAAM,CAAC,CAAC;EAE1B,oBACEnB,OAAA;IAAKI,SAAS,EAAE,yBAAyBA,SAAS,EAAE,CAACC,IAAI,CAAC,CAAE;IAAC+C,GAAG,EAAEnC,WAAY;IAAAf,QAAA,eAC5EF,OAAA;MAAKI,SAAS,EAAC,oBAAoB;MAAAF,QAAA,GAChCA,QAAQ,eACTF,OAAA;QAAKI,SAAS,EAAC;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACO,EAAA,CAvDIL,WAAW;AAAA0C,GAAA,GAAX1C,WAAW;AAyDjB,eAAeA,WAAW;AAAC,IAAAD,EAAA,EAAA2C,GAAA;AAAAC,YAAA,CAAA5C,EAAA;AAAA4C,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}